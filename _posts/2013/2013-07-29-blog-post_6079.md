---
layout: post
title: "为什么数码相机可以拍出彩色照片？"
date: '2013-07-29T14:52:00.001+08:00'
author: Wenh Q
tags:
modified_time: '2013-07-29T14:52:33.989+08:00'
thumbnail: https://lh4.googleusercontent.com/exlIuqrd_q9QWC2GHlUpA_p2fgRRvu4wB6L3FsO7LgmJFlUPsovf0rpaJxUTjGKQDhM5UxmXZ-bt1cdWDm0YW1q1zHl9B6M-g6d0yVhwemhQO0QjvYw=s72-c
blogger_id: tag:blogger.com,1999:blog-4961947611491238191.post-5990871369216536446
blogger_orig_url: http://binaryware.blogspot.com/2013/07/blog-post_6079.html
---

[
为什么数码相机可以拍出彩色照片？](http://www.ruanyifeng.com/blog/2012/12/bayer_filter.html)

于 12-12-5 通过 [阮一峰的网络日志](http://www.ruanyifeng.com/blog/)

[](http://www.ruanyifeng.com/blog/)

上个月（11月13日），83岁的柯达公司退休工程师[布赖斯·拜尔](http://www.nytimes.com/2012/11/29/business/bryce-bayer-inventor-of-a-filter-to-make-color-digital-pictures-dies-at-83.html)（Bryce
Bayer）去世。

![](https://lh4.googleusercontent.com/exlIuqrd_q9QWC2GHlUpA_p2fgRRvu4wB6L3FsO7LgmJFlUPsovf0rpaJxUTjGKQDhM5UxmXZ-bt1cdWDm0YW1q1zHl9B6M-g6d0yVhwemhQO0QjvYw)

一家国内[杂志](http://magazine.caixin.com/)邀请我写纪念文章，回顾他对数码摄影的巨大贡献。

我看了一些材料，觉得这个题材很有意思，涉及数码相机的成像原理，使我对数字图像技术有了新的认识。但是，由于体例限制，杂志不允许我插入彩图。

下面，我把我的那篇文章配上图片，解释彩色数码照片是怎么拍出来的。

1.

![](https://lh6.googleusercontent.com/J62lEd-a6-o-HjV-IIOAT3-9viM3eY-FUFnbG5YumegHbTGiEdV1sUQabQOzHc3gVUGRv1V5hSDHxMjKzSZyKhGSqEva7l6gOluQ5uB255RRL1Vrk-k)

为了更好地理解原理，让我们从照片的起源讲起。1825年，法国人[涅普斯](http://zh.wikipedia.org/wiki/%E7%B4%84%E7%91%9F%E5%A4%AB%C2%B7%E5%B0%BC%E5%A1%9E%E7%A6%8F%E7%88%BE%C2%B7%E6%B6%85%E6%99%AE%E6%96%AF)（Joseph
Nicéphore Nièpce），拍出历史上第一张照片。

2.

![](https://lh3.googleusercontent.com/tCLOxaNWwouWjhIfYgSBpUnTo_Qk2kbaRD4rAFXwb-Ycad9FT_lnvXaPU8PAKLumeXPaoz6SBAnU8ucBdmDG49O-UBdZpSRBZzHSb06to-OXSVRLgsQ)

他采用的感光剂是[氯化银](http://zh.wikipedia.org/wiki/%E6%B0%AF%E5%8C%96%E9%93%B6)（silver
chloride）。当光线照射氯化银，后者会分解成纯银和氯气，纯银在空气中很快氧化变成黑色。因此，底片颜色越深代表光线越强，颜色越浅代表光线越弱。黑白照片就是这样拍出来。

3.

![](https://lh3.googleusercontent.com/ZCJRZf0BY3L_5yJeRqDX9Ux6p4sryVdl_9-T4wzP7gdTp90ow9uKUOctGSWcixC8Q-Ithg27kfhYrsmGbNmRof4qhVJzDPrzljuPXHLZZkWGW-XYkX4)

19世纪中期，人们发现，人眼的圆锥细胞对三种颜色----红、绿、蓝----特别敏感。伟大的英国物理学家麦克斯韦因此假设，红绿蓝作为基色，可以拍出彩色照片。

4.

![](https://lh4.googleusercontent.com/tebXZmG6XFPuh91J8xtSJY7h4ynoz2H0Igy3IiZf0Z4RZ_SoVRnPyx5vYKJA8r8QLSJb1lkmKyxL9MrPBvGqRWwGtkJTXVQlLipIw5eDkLHjSqeOXjs)

1861年，在麦克斯韦的指导下，人类的第一张彩色照片诞生了。

采用的方法是在镜头前，分别用红丝带、绿丝带、蓝丝带过滤光线，曝光形成三张底片，然后用三部放映机向同一处投影这三张底片，每部放映机的镜头前都拧上对应颜色的镜头，它们的合成效果就是一张彩照。

5.

![](https://lh4.googleusercontent.com/BmJsz1vQqy6GIUORO-AXT524ZjB8m3a7-zyYQd4WOfVZRSpASQ7fwv3DICayIKEgH-C7v6Yuj1Dtl3oCi1FNmu621AeXFLI4oknkkMqBPujcmj8sfFI)

真正意义上的彩色胶卷，1933年诞生于柯达公司，底片之上依次有三个感光层，分别对红、绿、蓝三种颜色进行曝光，最后叠加形成一张彩色底片。

6.

![](https://lh6.googleusercontent.com/D-OM1GJgp_Az2bf6rneSfk0et2Onvt9xNRKdBmnsfKR9HfOlPp6CNcRuvXmKjktU3Z357BgDlhPHuK51mA-n1HLdWyPnTDW7aYDcF97n-rRz2C58cxc)

二战后，计算机诞生，科学家发现图像可以用数字形式表示。如果将光信号转变成电信号，就可以直接拍出数码照片。这意味着，照相机不再需要胶卷，而是需要一个[图像传感器](http://en.wikipedia.org/wiki/Image_sensor)（image
sensor）。

7.

![](https://lh6.googleusercontent.com/tVenyd744ho4iHyWyX1i5_iQ_baNfcjD0u3AgRs3iLI7nhc3KilHvzTInwNDJXwUy8EDdLrdkv8AW1yNEyh7c0eY9XU8_obZ7VqbklnAwA6XioT6dqw)

图像传感器将光线转化成电流，光线越亮，电流的数值就越大；光线越暗，电流的数值就越小。所以，如果用0到255的范围，表示光线的亮度，最亮的光线是白光，数值是十六进制的FF，最暗的光线是黑光（没有光），数值是十六进制的00。

8.

![](https://lh3.googleusercontent.com/uOz2wMNR1fYYOY_aHSi1gpdgiae8U2K65_j0xiqgKyKRzphS4UjEr0Fw5i5QiATcc5vbP8yxwelBUSBVtbiaKL5i8urc0XWx51xNiTIoxkee9kS9zQk)

图像传感器的表面，分成若干个捕捉点，每个点都会产生一个数值，表示该点感受到的光线亮度，这就叫做"像素"。像素越多，图像细节就越丰富。如果一台相机的像素是1600x1200，就说明图像传感器横向有1600个捕捉点，纵向有1200个，合计192万个。

9.

![](https://lh5.googleusercontent.com/7YI-J5pWqEO_m6DGI-oln_mx0TDtP9zPGYse6Gc5JxU92AjSwjoEmwudLi2zdmUvua-vdXcz3BrOEHtLFwo7BmgvdVMXRV7VVC8I-enNMnv7j6wWenk)

但是，图像传感器有一个很严重的缺陷：它只能感受光的强弱，无法感受光的波长。由于光的颜色由波长决定，所以图像传播器无法记录颜色，也就是说，它只能拍黑白照片，这肯定是不能接受的。

10.

![](https://lh5.googleusercontent.com/ImXIi5lPT5TfRgHlLzrQZ0g4SjboEF-j7t6f7lYc2PvG60i6g2ljSDYsGzdj2YjX3SGuyG_t8cWnZ4PIFUGOAOM_r3ExqASad3o0lsWpy0cK19egYTg)

一种解决方案是照相机内置三个图像传感器，分别记录红、绿、蓝三种颜色，然后再将这三个值合并。这种方法能产生最准确的颜色信息，但是成本太高，无法投入实用。

11.

![](https://lh5.googleusercontent.com/Se8sX68cOrf62WU5mp8wJym4jiKcGXPYOB4TAqPl7gLUjDHEpiBxR1fewG_6XDx_2Rv_ov__aKr17AIBcqR2qUW6pTHdf0Avt0LnvVWc-syWQbMceIs)

1974年，柯达公司的工程师布赖斯·拜尔提出了一个全新方案，只用一块图像传感器，就解决了颜色的识别。他的做法是在图像传感器前面，设置一个[滤光层](http://en.wikipedia.org/wiki/Color_filter_array)（Color
filter
array），上面布满了滤光点，与下层的像素一一对应。也就是说，如果传感器是1600x1200像素，那么它的上层就有1600x1200个滤光点。

12.

![](https://lh6.googleusercontent.com/iYRIND9TlyDTeALQso0VdMFeZUS7zkfYRX3ze4GgFDkD3jZ8ljE9i-Bt81lMgeXxD9BLf1oqTJX_YzZzvl1c0Dur3jBvXsrS9QX7I_wZ6PKZKxaJ9Q0)

每个滤光点只能通过红、绿、蓝之中的一种颜色，这意味着在它下层的像素点只可能有四种颜色：红、绿、蓝、黑（表示没有任何光通过）。

13.

![](https://lh3.googleusercontent.com/dvRw7Nq1BDZUPLYB2Rw5eIx-zXMNb6vEYqX_kFq3yZ2HDOloAI_cvZ57qs3vIppxarMbggyY2vQ_TPWne0a79vZHAofDSR4payKHwFGfu7RPnfZnhzI)

不同颜色的滤光点的排列是有规律的：每个绿点的四周，分布着2个红点、2个蓝点、4个绿点。这意味着，整体上，绿点的数量是其他两种颜色点的两倍。这是因为研究显示人眼对绿色最敏感，所以滤光层的绿点最多。

14.

![](https://lh3.googleusercontent.com/Vj9C01eqy0m4DckChK1RV8bfl0B-yueRzgYVPd54eO1mi7ulx-qHZpmpIqW6lQ9YVB1WAhxte6mdhOIlKOZUuYePzvQ7HTVPLlPR7D2LSDbMOtApw8o)

接下来的问题就是，如果一个像素只可能有四种颜色，那么怎么能拍出彩色照片呢？这就是布赖斯·拜尔聪明的地方，前面说了，每个滤光点周围有规律地分布其他颜色的滤光点，那么就有可能结合它们的值，判断出光线本来的颜色。以黄光为例，它由红光和绿光混合而成，那么通过滤光层以后，红点和绿点下面的像素都会有值，但是蓝点下面的像素没有值，因此看一个像素周围的颜色分布----有红色和绿色，但是没有蓝色----就可以推测出来这个像素点的本来颜色应该是黄色。

15.

![](https://lh3.googleusercontent.com/_ZvxCc43ywsH3hX_Slwpx7mfgFd3RiLB8oP1r09qEwRNy2fqsne9gJs5c6QYAtdyGXVFItUcWzUbWi54nceDCpWLF6ehLqBWWJPrH4QyjRMM3FaEaOY)

这种计算颜色的方法，就叫做["去马赛克"](http://en.wikipedia.org/wiki/Demosaicing)（demosaicing）。上图的下半部分是图像传感器生成的"马赛克"图像，所有的像素只有红、绿、蓝、黑四种颜色；上半部分是"去马赛克"后的效果，这是用算法处理的结果。

16.

![](https://lh4.googleusercontent.com/H1Jid3iKubesH4jaR5t82EL2V_aBBDrFVYnwpYasXiijiF8lczRqxlOS5jb0NK1DpKbrNGgXRiqi7thwby9CMbUrrZv09I9zHLdcdsI-DjUmpp9X95w)

虽然，每个像素的颜色都是算出来的，并不是真正的值，但是由于计算的结果相当准确，因此这种做法得到广泛应用。目前，绝大部分的数码相机都采用它，来生成彩色数码照片。高级的数码相机，还提供未经算法处理的原始马赛克图像，这就是[raw格式](http://en.wikipedia.org/wiki/Raw_image_format)（raw
image format）。

为了纪念发明者布赖斯·拜尔，它被称作"拜尔模式"或["拜尔滤光法"](http://en.wikipedia.org/wiki/Bayer_filter) （Bayer
filter）。

（完）

###  {style="color: black; direction: ltr; font-family: "Arial"; font-size: 14pt; font-weight: bold; height: 14pt; line-height: 1.6; margin-bottom: 0; margin-left: 31.5pt; margin-right: 31.5pt; margin-top: 0; padding-bottom: 20.8pt; padding-left: 0; padding-right: 0; padding-top: 4.8pt; text-align: left;"}

文档信息

1.  版权声明：自由转载-非商用-非衍生-保持署名 | [Creative Commons
    BY-NC-ND
    3.0](http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh)
2.  原文网址：[http://www.ruanyifeng.com/blog/2012/12/bayer_filter.html](http://www.ruanyifeng.com/blog/2012/12/bayer_filter.html)
3.  最后修改时间：2012年12月10日 19:09
4.  付费支持：![](https://lh3.googleusercontent.com/4gxxsEueFMe4sCvWJnFXJePYFBvs28qB9xBnejGjnYHHFLpcHV9Q3JxPImik5GIie_h6X7NDv9JT8GKJQNzppg5Oyx_DZHks-tdpqQfoHMBNAUyBxKI) |
    ![](https://lh4.googleusercontent.com/P_N2JqDoKtbTeEfMWCdkUiuuaPljz5rRZ5zvpveVTpj0_agIUgxGKwrML6UlwRl5jgljv934PbSThJQiAH_h_d2VJsMm78i-bVwF3wwIafrqN-HVInc)

[广告] [www.hi-vps.com创建于2010年，致力于提供更适合国人使用，性价比更高的VPS。我们的支付方式为支付宝，并且提供7天无理由退款服务。其他使用指南，请参考我们的WIKI。](http://www.hi-vps.com/)

---
layout: post
title: "当Jsoup遇到“nbsp”时，竟然不是一般的空格"
date: '2013-08-28T16:40:00.002+08:00'
author: Wenh Q
tags: 
modified_time: '2013-08-30T13:17:39.453+08:00'
blogger_id: tag:blogger.com,1999:blog-4961947611491238191.post-6678722567219911331
blogger_orig_url: http://binaryware.blogspot.com/2013/08/jsoup.html
---

<b>现象：</b><br />String text = Jsoup.parse(element.toString()).text().trim();<br />text是“空格”，trim()以后竟然还是“空格”！！！<br /><br />后来在用replace(' ','')也过滤不掉，用正则也去不掉，真是神奇的“空格”<br /><br /><b>解决：</b><br />原来是Jsoup把&amp;nbsp;不知道解析成什么了，有兴趣看<a href="http://stackoverflow.com/questions/8908097/java-jsoup-library-element-text-returns-nbsp-as-a-160-ascii-character" target="_blank">这里</a>，像是网页编码的问题。<br /><b><br /></b>后面加上<br />text = text.replaceAll(Jsoup.parse("&amp;nbsp;").text(), " ");<br /><br /><b>参考：</b><br /><a href="http://www.mayuqian.cn/archives/4231.html" target="_blank">Jsoup解析nbsp空格乱码</a>
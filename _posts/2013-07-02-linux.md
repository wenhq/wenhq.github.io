--- layout: post title: Linux 命令行里的“瑞士军刀” date:
'2013-07-02T17:19:00.002+08:00' author: Wenh Q tags: modified\_time:
'2013-07-02T17:19:25.186+08:00' blogger\_id:
tag:blogger.com,1999:blog-4961947611491238191.post-8160816504695792880
blogger\_orig\_url: http://binaryware.blogspot.com/2013/07/linux.html
---
<div
style="background-color: #c3d9ff; font-size: 1px !important; line-height: 0px !important; margin: 0px 2px; padding-top: 1px;">

</div>

<div
style="font-family: sans-serif; margin: 0px 10px; overflow: auto; width: 100%;">

 {#section style="margin: 0.25em 0 0 0;"}

<div>

[Linux
命令行里的“瑞士军刀”](http://www.oschina.net/news/41214/what-are-the-most-useful-swiss-army-knife-one-liners-on-unix)

</div>

<div style="margin-bottom: 0.5em;">

于 13-6-7 通过
[开源中国社区最新新闻](http://www.oschina.net/?from=rss){.f}

</div>

\
这里说的"瑞士军刀"是指那些简单的一句命令就能完成其它高级语言一大片代码才能完成的工作。\
下面的这些内容是[Quora](http://www.quora.com/)网站上Joshua
Levy网友的总结：\
-   通
    过sort/uniq获取文件内容的交集、合集和不同之处：假设有a、b两个文本文件，文件本身已经去除了重复内容。下面是效率最高的方法，可以处理任何
    体积的文件，甚至几个G的文件。(Sort对内存没有要求，但也许你需要用 -T
    参数。)可以试着比较一下，你可以看看如果用Java来处理磁盘上文件的合并，需要用多少行代码。

> cat a b | sort | uniq &gt; c   \# c 是a和b的合集

> cat a b | sort | uniq -d &gt; c   \# c 是a和b的交集

> cat a b b | sort | uniq -u &gt; c   \# c 是a和b的不同

-   汇总一个文本内容里第三列数字的和(这个方法要比用Python来做快3倍并只需1/3的代码量)：

> awk '{ x += \$3 } END { print x }' myfile

-   如果你想查看一个目录树里的文件的体积和修改日期，用下面的方法，相当于你挨个目录做"ls
    -l"，而且输出的形式比你用"ls -lR"更可读：

> find . -type f -ls

-   使用xargs命令。这个命令非常的强大。注意每行上你可以控制多少个东西的执行。如果你不确定它是正确的执行，先使用xargs
    echo。同样，-I{} 也非常有用。例子：

> find . -name \\\*.py | xargs grep some\_function

> cat hosts | xargs -I{} ssh root@{} hostname

-   假设你有一个文本文件，比如一个web服务器日志，在某些行上有一些值，比如URL中的acct\_id参数。如果你想统计每个acct\_id的所有请求记录：

> cat access.log | egrep -o 'acct\_id=\[0-9\]+' | cut -d= -f2 | sort |
> uniq -c | sort -rn

<div>

\[英文原文：[What are the most useful "Swiss army knife" one-liners on
Unix?](http://www.quora.com/What-are-the-most-useful-Swiss-army-knife-one-liners-on-Unix)
\]

</div>

<div>

相关阅读：[Linux Netcat
命令——网络工具中的瑞士军刀](http://www.oschina.net/translate/linux-netcat-command)

</div>

</div>
